<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="icon" href="/static/imgs/icons.png">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
    <link rel="stylesheet" href="/static/css/home.css">
    <title>YouTube Download</title>
</head>

<body>
    <div id="video-background">
        <video autoplay muted loop id="video-background">
            <source src="/static/videos/pilardelagua.mp4" type="video/mp4">
            <!-- Puedes agregar más tipos de fuente si deseas -->
        </video>
    </div>
    <div class="titulo">
        <span>YOUTUBE DOWNLOAD</span>
    </div>

    <div class="contenido">
        <div class="div1">
            <h1>YouTube Download</h1>
        </div>

        <div class="div2">
            <div class="image">

                <img src="/static/imgs/logoss.png" alt="">
            </div>

            <form action="/submit" method="post" autocomplete="off">

                <div class="buscar">
                    <input type="url" name="urlVideo" id="urlVideo" placeholder="ENTER URL" autofocus="autofocus"
                        required>

                </div>

                <div class="boton">
                    <button type="submit" name="submit_btn"  value="boton1" id="boton">Video Download mp4</button>
                    <!-- Botón 2 -->
                    <button type="submit" name="submit_btn" value="boton2" id="boton">Audio Download mp3</button>
                </div>

            </form>
        </div>

        <div id="div3">
            <div id="video"></div>
        </div>
    </div>
    <script>
        let cargando = false;
        const input = document.querySelector('#urlVideo');
        input.addEventListener('change', (e) => {
            const valorInput = e.target.value;
            const idYoutube = valorInput.substring(32);
            console.log({ idYoutube, valorInput });

            let body = document.querySelector('#div3');
            body.classList.add("loaderdiv3");

            setTimeout(() => {
                body.classList.remove('loaderdiv3');
            }, 1000);

            document.querySelector('#video').innerHTML = `
            <iframe width="400" height="300" src="https://www.youtube.com/embed/${idYoutube}" frameborder="0" allowfullscreen></iframe>`

        });

    </script>
</body>

</html>